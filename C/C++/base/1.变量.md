# C++ base



## 1.变量
### 1.1 基本内置类型
#### 1.1.1 算数类型
算数类型分为整型（integral type,  包括字符和布尔类型在内）和浮点型

##### 1.1.1.1 size
算数类型的大小（占位）在不同机器上有所不同，下方列出最小值
| 类型      | 含义         | size         |
| --------- | ------------ | ------------ |
| bool      | 布尔类型     | 未定义       |
| char      | 字符         | 8 位         |
| wchar_t   | 宽字符       | 16 位        |
| char16_t  | Unicode 字符 | 16 位        |
| char32_t  | Unicode 字符 | 32 位        |
| short     | 短整型       | 16 位        |
| int       | 整型         | 16 位        |
| long      | 长整型       | 32 位        |
| long long | 长整型            | 64 位        |
| float		| 单精度浮点数 | 6 位有效数字 |
| double | 双精度浮点数 | 10 位有效数字 |
| long double | 扩展精度浮点数 | 10 位有效数字|

*一个 char 的空间应确保可以存放机器基本字符集中容易对应的数字值，所有一个 char 的大小和一个机器的字节一样（8 位）。*

*C++ 语言规定一个 int 至少和一个 short 一样大， 一个 long 至少和一个 int 一样大， 一个 long long 至少和一个 long 一样大。其中，数据类型 long long 是在 C++Ⅱ 中新定义的*

**科普：内置类型的机器实现**
```
计算机以比特序列存储数据，每个比特非 0 即 1，大多数计算机以 2 的整数次幂个比特作为块来处理内存，可寻找的最小内存块成为“字节(byte)”，存储的基本单元成为“字(word)”，它通常由几个字节组成。在 C++ 语言中，一个字节要至少能容纳机器基本字符集中的字符。大多数机器的字节由 8 比特构成，字则由 32 或 64 比特构成，也就是 4 或 8 字节。
```
*通常， float 以 1 个字（32 比特）来表示， double 以 2 个字（64 比特）来表示，long double 以 3 或 4 个字（96 或 128 比特）来表示。*

##### 1.1.1.2 有符号和无符号类型
**除去布尔型和扩展的字符类型之外， 其他整型可以划分为*带符号的（signed）*和*无符号的（unsigned）*两种**
*int, short, long 和 long long 都是带符号的，类型名前添加 unsigned 就可以得到无符号类型。 unsigned int 可以缩写为 unsigned*
*char 则分为 char, signed char, unsigned char 三种， 尽管字符型有三种，但是字符的表现形式却只有两种，带符号和无符号的，**char 实际上会表现为上述两种中的一种，取决于编译器***
**建议：如何选择类型**
```
一定不可能为负时，选择无符号类型；
超过了 int 选用 long long (因为 long 一般和 int 一样大小)；
算数表达式中尽可能得不去使用 char 或 bool；如果需要使用一个不大的整数时，明确指明它的类型是 signed char 或 unsigned char；
浮点运算选用 double，因为 float 和 double 计算的代价相差无几，而 float 通常精度不够。 long double 一般没必有使用。
```
#### 1.1.2 类型转换
**类型所能表示值的范围决定了转换的过程**
```
如非 bool 的值赋予 bool 的变量， 初始化为 0 则 false， 否则为 true
```

**含无符号类型的表达式**
```
unsigned u = 10;
int i = -42
u + i; // 如果 int 占 32 位， 输出 4294967264
```
u + i 中，先把整数 -42 转换成无符号数，把负数转换成无符号类似于直接给无符号数赋一个负值，结果等于这个负数加上无符号数的模。
#### 1.1.3 字面值常量（literal）
**每个字面值常量都对应一种数据类型，字面值常量的形式和值决定了它的数据类型**

##### 1.1.3.1 整型和浮点型字面值
**整型**
20 // 十进制
024 // 八进制
0x14 // 十六进制
```
默认情况下十进制字面值是带符号数，八进制和十六进制既可能是带符号的也可能是无符号的。十进制字面值的类型是 int ，long 和 long long 中最小的那个(前提是类型能容纳下当前值)
八进制和十六进制字面值的类型是能容纳其数值的 int、unsigned int、long、unsigned long、1ong long和unsignedlong long 中的尺寸最小者。如果一个字面值连与之关联的最大的数据类型都放不下，将产生错误。
short 没有对应的字面值
```

**浮点**
浮点型子面值表现为一个小数或以科学计数法表示的指数，其中指数部分用E或e
```
默认的，浮点型字面值是一个 double
```
##### 1.1.3.2 字符和字符串
'a' // 字符字面值
"a" // 字符串字面值
```
字符串字面值的类型实际上是由常量字符构成的数组（array）。编译器在每个字符串的结尾处添加一个空字符（\0），因此，字符串字面值的实际长度要比它的内容多1。例如，字面值‘A’表示的就是单独的字符A，而字符串“A”则代表了一个字符的数组，该数组包含两个字符：一个是字母A、另一个是空字符。
```
##### 1.1.3.3 转义序列


|-|-|-|-|-|-|
| --------- | ------------ | ------------ | ------------ | ------------ | ------------ |
| 换行符 | \n | 横向制表符 | \t | 报警（响铃）符 | \a|
| 纵向制表符 | \v | 退格符 | \b | 双引号 | \” |
| 反斜线 |	\\ | 问号 | \？ | 单引号 | \' |
| 回车符 | \r | 进纸符| \f |
##### 1.1.3.4 指定字面值的类型
**字符和字符串字面值**
| 前缀 | 含义                        | 类型     |
| ---- | --------------------------- | -------- |
| u    | Unicode 16 字符             | char16_t |
| U    | Unicode 32 字符             | char32_t |
| L    | 宽字符                      | wchar_t  |
| u8   | UTF-8(仅用于字符串字面常量) | char |

**整型字面值**
| 后缀 | 最小匹配类型 | 
| ---- | --------------------------- | 
| u or U   | unsigned | 
| l or L| long | 
| ll or LL | long long | 

**浮点型字面值**
| 后缀 | 类型 | 
| ---- | --------------------------- | 
| f  or F | float | 
| l or L | long double | 


