# 桥接模式-Bridge Pattern

**桥接模式-Bridge Pattern【学习难度：★★★☆☆，使用频率：★★★☆☆】**

**(对象结构型模式)**

 对于存在两种维度属性的对象来讲(从某种层面上讲，违反单一职责)，由于维度间的强耦合，导致不同的组合需要不同的实现(子类)，这时候就需要**桥接模式**对维度进行分离，使各个**属性能独立变化**。



## 1. 引入

大中小3种型号的画笔，12种不同的颜色墨水，能绘制36种笔画；

但是蜡笔要绘制36种笔画，需要 3 *12 = 36 只蜡笔才行。

区别在于毛笔颜色和型号是分开的，而蜡笔两种属性是绑定的。



## 2. 角色

- **Abstraction（抽象类）：**定义一个Implementor（实现类接口）类型的对象并维护该对象，与 Implementor 再见具有关联关系，既可以包含抽象业务方法，也可以包含具体业务方法；
- **RefinedAbstraction（扩充抽象类）：**扩充由 Abstraction 定义的接口，通常情况下它不是抽象类而是具体类，实现抽象业务方法，可以调用 Implementor 定义的业务方法；
- **Implementor（实现类接口）：**定义现实类的接口，提供基础操作抽象方法，被 Abstraction 所调用
- **ConcreteImplementor（具体实现类）：** 实现 Implementor 接口，提供给抽象类具体的业务操作方法。



## 3. 定义

将抽象部分与它的实现部分分离，使它们都可以独立地变化。它是一种对象结构型模式，又称为柄体(Handle and Body)模式或接口(Interface)模式。



## 4. code

### 

## 5. 总结

### 5.1 模式名称(pattern name)

桥接模式-Bridge Pattern



### 5.2 问题(Problem)

一个对象负责多个维度属性，属性之间强耦合，导致不同的属性搭配，需要不同的子类。



### 5.3 解决方案(Solution)

将抽象部分与它的实现部分分离，使属性间能独立变化



### 5.4 效果(Consequences)

- 主要优点

  - 分离抽象接口及其实现部分。桥接模式使用“对象间的关联关系”**解耦了抽象和实现之间固有的绑定关系**，使得抽象和实现可以沿着各自的维度来变化。“子类化”实现，使它们有自己的子类，不同组合的子类得到不同维度的组合对象。
  - 桥接模式可以取代多层继承方案，多层继承方案违背了“单一职责原则”，复用性较差，且类的个数非常多，**它极大减少了子类的个数**。
  - )桥接模式**提高了系统的可扩展性**，在两个变化维度中任意扩展一个维度，都不需要修改原有系统，符合“开闭原则”。

- 主要缺点

  - 增加系统的理解与设计难度，一开始就针对抽象层进行设计与编程。

  - 桥接模式要求正确识别出系统中两个独立变化的维度，因此其使用范围具有一定的局限性，如何正确识别两个独立维度也需要一定的经验积累。

    

### 5.5 使用场景

- 系统需要在抽象化和具体化之间增加更多的灵活性，避免在两个层次之间建立静态的继承关系
- “抽象部分”和“实现部分”可以以继承的方式独立扩展而互不影响，在程序运行时可以动态将一个抽象化子类的对象和一个实现化子类的对象进行组合，即系统需要对**抽象化角色和实现化角色进行动态耦合**。
- 一个类存在两个（或多个）独立变化的维度，且这两个（或多个）维度都需要独立进行扩展
- 对于那些不希望使用继承或因为多层继承导致系统类的个数急剧增加的系统，桥接模式尤为适用。